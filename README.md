# AI Road Map - Генератор концептуальных карт

Веб-приложение для автоматического создания интерактивных карт понятий из текстовых файлов с использованием YandexGPT API.

## Архитектура

### Основные компоненты

- **start_web_server.py** - HTTP сервер с API для загрузки файлов и обработки запросов
- **web_concept_generator.py** - Логика создания концептуальных карт через YandexGPT
- **prompts_manager.py** - Управление промптами для ИИ
- **concept_map_viewer.html** - Веб-интерфейс для отображения карт
- **concept_map.json** - Файл с демонстрационными данными

### Структура данных

Концептуальная карта содержит:
- **concepts** - массив концептов с полями id, label, description, level, category, files
- **links** - массив связей между концептами с полями source, target, relationship
- **metadata** - метаинформация о карте

### API endpoints

- POST `/api/upload` - загрузка файлов для анализа
- GET `/api/status` - получение статуса обработки
- POST `/api/modify` - модификация карты по текстовому запросу
- GET `/api/generate-topics` - получение списка тем из файлов

## Установка и запуск

### Требования

- Python 3.8+
- Библиотеки: requests
- YandexGPT API ключ

### Переменные окружения

```bash
export YANDEX_IAM_TOKEN="your_token_here"
export YANDEX_FOLDER_ID="your_folder_id_here"
```

### Установка

1. Клонировать репозиторий
2. Установить зависимости:
   ```bash
   pip install requests
   ```

3. Настроить переменные окружения для YandexGPT API

### Запуск

1. Запустить сервер:
   ```bash
   python start_web_server.py
   ```

2. Открыть браузер по адресу: http://localhost:8091

3. Загрузить файлы через веб-интерфейс или использовать демонстрационные данные

## Использование

### Создание карты из файлов

1. Нажать "Выберите файлы" и выбрать текстовые файлы
2. Дождаться завершения обработки
3. Изучить полученную карту понятий

### Демонстрационный режим

1. Нажать "Загрузить пример" для просмотра готовой карты
2. Кликать на узлы для просмотра деталей
3. Использовать элементы управления для навигации

### Модификация карты

1. Загрузить или создать карту
2. Нажать "Изменить карту"
3. Ввести описание желаемых изменений
4. Дождаться обновления карты

### Особенности интерфейса

При клике на узел концепта отображается:
- Название и описание концепта
- Уровень в иерархии
- Категория концепта
- Связанный материал с фрагментами текста из исходных файлов

## Настройка

### Промпты

Промпты для YandexGPT настраиваются в файле prompts_manager.py. Можно изменить:
- Системные промпты для создания карт
- Промпты для модификации существующих карт  
- Промпты для извлечения тем из текстов

### Стили интерфейса

Внешний вид настраивается через CSS в файле concept_map_viewer.html:
- Цвета узлов и связей
- Размеры и шрифты
- Анимации и эффекты

### Параметры сервера

В файле start_web_server.py можно изменить:
- Порт сервера (по умолчанию 8091)
- Размер загружаемых файлов
- Таймауты обработки

## Поддерживаемые форматы

- .txt (UTF-8, CP1251)
- .pdf (при наличии pypdf)
- .docx (при наличии python-docx)

## Ограничения

- Максимальный размер файла: 10MB
- Максимальное количество файлов: 20 за раз
- Таймаут обработки: 300 секунд
- Требуется подключение к интернету для работы с YandexGPT

## Структура проекта

```
AI_road_map/
├── start_web_server.py          # Веб-сервер
├── web_concept_generator.py     # Генератор карт
├── prompts_manager.py           # Управление промптами  
├── concept_map_viewer.html      # Веб-интерфейс
├── concept_map.json            # Демо данные
├── README.md                   # Документация
└── data/                       # Примеры файлов
    ├── 00_intro_to_python.txt
    ├── 01_variables_and_types.txt
    └── ...
```

## Возможные проблемы

### Ошибки запуска

- Проверьте наличие переменных окружения YANDEX_IAM_TOKEN и YANDEX_FOLDER_ID
- Убедитесь что порт 8091 не занят другим приложением
- Проверьте подключение к интернету

### Проблемы с обработкой файлов

- Убедитесь что файлы в кодировке UTF-8
- Проверьте размер файлов (не более 10MB)
- Убедитесь что YandexGPT API доступно

### Проблемы с интерфейсом

- Очистите кэш браузера
- Убедитесь что JavaScript включен
- Попробуйте другой браузер (рекомендуется Chrome, Firefox, Safari)